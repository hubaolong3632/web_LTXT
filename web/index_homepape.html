<!--文章首页论坛-->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"  />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="renderer" content="webkit" />
    <title>blog_index</title>
    <meta name="keywords" content="张三的博客">
    <meta name="description" content="张三的博客">
    <link href="css/base.css" rel="stylesheet" type="text/css">
    <script src="js/jquery-1.8.3.min.js" type="text/javascript"></script>
    <script src="js/base.js" type="text/javascript"></script>
    <script src="js/jquery.slides.min.js" type="text/javascript"></script>

</head>
<script>

  function  hidden1(){

      let hidden1 = document.getElementById("hidden1").value;
      console.log(hidden1); //输出调试

      //跳转
     location.href='article.do?id='+hidden1;

  }

</script>
<body>

<div th:replace="headline :: myfooter"></div> <!--引入首页头-->
<div id="page1" >
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script>
        $("#page1").load("headline.html");  //拷贝头
    </script>
</div>


<!--<div class="nav_hidden_zhanwei"></div>-->

<!--<div class="search_box">-->
<!--    <div class="search">-->

<!--        <form name="searchform" class="search_form" method="post" action="index.html" target="_blank">-->
<!--            <input type="text" class="search_text" name="keyboard" placeholder="输入关键字点击搜索" id="keyboard">-->
<!--            <input type="hidden" name="tbname" value="news">-->
<!--            <input type="hidden" name="show" value="title,smalltext">-->
<!--            <input type="hidden" name="tempid" value="1">-->
<!--            <input type="hidden" name="classid" value="1,4,9">-->
<!--            <input type="button" class="search_btn" value="搜索一下" id="update1">-->
<!--        </form>-->

<!--    </div>-->
<!--</div>-->



<div class="banner_box">

</div>

<div class="article_box clearfix">
    <div class="left">
<!--        &lt;!&ndash;首页最新模板部分&ndash;&gt;-->
        <div class="article_box_one" id="articleBox" >

        </div>

<!--        &lt;!&ndash;首页博文推荐部分&ndash;&gt;-->
<!--        <div class="article_box_one">-->
<!--            <div class="index_article_title clearfix">-->
<!--                <h3>推荐博文</h3>-->
<!--                <a href="list.html">更多></a>-->
<!--            </div>-->

<!--        </div>-->


        <div>
            <input type="button"  class="more" id="loadmore" value="点击加载更多" onclick="alert('当前暂时没有更多文章')">
        </div>

    </div>

</div>



<div class="footer_box">
    <div class="footer clearfix">
        <div class="footer_img">
            <ul>
                <li>
                    <img src="img/self_qq_bottom_erweima.png">
                    <span>我的qq</span>
                </li>
                <li>
                    <img src="img/self_weixin_bottom_erweima.jpg">
                    <span>我的微信</span>
                </li>
            </ul>
        </div>
        <div class="footer_text">
<!--            <p th:each="models:${models}" th:text="${models.id}"></p>-->
            <p><i>站点声明：</i></p>
            <a  href="http://wpa.qq.com/msgrd?v=3&uin=911412667&site=qq&menu=yes"><font color="red">1.点此访问站长:911412667</font></a>
            <p>2.不要搞各种html注入</p>
        </div>
    </div>

</div>
</body>



<script th:inline="javascript" type="text/javascript">




    $(document).ready(function(){

        function update1(){  //进行数据的更新和初始化
            // let ac=[[${session.str}]];
            // alert("输出的值"+ac);
            //开始的时候清除div
            let articleBox = document.getElementById("articleBox");
            let div1 = document.getElementById("classC3");
            // alert(articleBox+"    "+div1)
            if(div1!=null){
                articleBox.removeChild(div1);
            }


            //创建div
             let div2=document.createElement("div1"); //创建一个表  创建一个tbody
             div2.setAttribute("class","classC3"); //绑定他的class
             div2.setAttribute("id","classC3"); //绑定他的id

            articleBox.appendChild(div2); //保存文件


            //更新服务器传输过来的消息 进行第一次判断是否为空
            let hidden1 = document.getElementById("keyboard").value;
            if(hidden1!=""){ //信息查询
                //这里错了
                $.ajax({
                    type:"post",
                    url:"Index_homepape_fuzzyQueryAction.do", //获取数据传输过来的json格式数据
                    data:{"name":hidden1},
                    dataType:"json",        //指定响应的data数据类型为JSON对象。
                    success:function(json){ //回调函数
                        // {"code":1,"data":{"no":"点赞成功!!恭喜你"},"msg":"成功"}

                        alert(json.data);
                    },
                })
            }else{  //初始化查询
                // alert("初始化功能");
                console.log("初始化功能");

                $.ajax({
                    type:"post",
                    url:"Index_iniTializeAction.do",
                    data:{"name":hidden1},
                    dataType:"json",        //指定响应的data数据类型为JSON对象。
                    success:function(json){ //回调函数
                        // {"code":1,"data":{"no":"点赞成功!!恭喜你"},"msg":"成功"}

                        if(json.code=="1"){


                                 alert("成功!");

                        }else{
                            alert("查询失败请检查各个功能是否成功");
                        }

                    },
                })

            }
        }

        let id = document.getElementById("update1");
        id.onclick=update1; //绑定表单


      update1(); //第一次执行初始化操作












        //生成表单数据的方法




    });


</script>




</html>
